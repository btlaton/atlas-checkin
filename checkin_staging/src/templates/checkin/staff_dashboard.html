<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Staff Dashboard</title>
    <link rel="stylesheet" href="/static/checkin/style.css" />
    <style>
      .cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }
      .card { background:#0a0a0a; border:1px solid #333; border-radius:12px; padding:12px; }
      .kpi { font-size:28px; font-weight:800; }
      .spark { width:100%; height:56px; }
      .list li { padding:6px 0; border-bottom:1px solid #1d2740; }
      .row { display:flex; gap:8px; align-items: flex-end; }
    </style>
  </head>
  <body>
    <div class="container small">
      <header class="admin-header">
        <h1>Staff</h1>
        <nav>
          <a href="/admin" style="margin-right:12px;">Admin</a>
          <a href="/admin/logout">Logout</a>
        </nav>
      </header>

      <section class="panel">
        <h2>Today</h2>
        <div class="cards">
          <div class="card"><div class="muted">Check-Ins</div><div id="kpi-total" class="kpi">—</div></div>
          <div class="card"><div class="muted">Unique Members</div><div id="kpi-unique" class="kpi">—</div></div>
          <div class="card" style="grid-column:1/-1;">
            <div class="muted">7-Day Trend</div>
            <svg id="spark" class="spark" viewBox="0 0 200 56" preserveAspectRatio="none"></svg>
          </div>
        </div>
      </section>

      <section class="panel">
        <h2>Quick Actions</h2>
        <div class="row">
          <div style="flex:1;">
            <label>Resend QR (email)</label>
            <input id="qa-contact" type="email" placeholder="name@example.com" autocomplete="email" />
          </div>
          <button id="qa-send">Send</button>
        </div>
        <div id="qa-result" class="result"></div>
        <div style="margin-top:8px;">
          <a href="/admin/members">Open Members Directory</a>
        </div>
      </section>

      <section class="panel">
        <h2>Recent Check-Ins</h2>
        <ul id="recent" class="list" style="list-style:none; margin:0; padding:0;"></ul>
      </section>
    </div>

    <script src="/static/checkin/staff_dashboard.js"></script>
  </body>
  </html>
